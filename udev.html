

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>udev/ – UDev snippets &mdash; Snippets</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '3c89833b60587159e704d500a7d612149d08c287',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Snippets" href="index.html" />
    <link rel="next" title="Miscellaneous snippets" href="misc.html" />
    <link rel="prev" title="python-misc/ – Miscellaneous Python snippets" href="python-misc.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">Snippets</a></div>
        <div class="rel">
          <a href="python-misc.html" title="python-misc/ – Miscellaneous Python snippets"
             accesskey="P">previous</a> |
          <a href="misc.html" title="Miscellaneous snippets"
             accesskey="N">next</a> |
          <a href="snip-index.html" title="Snippets index"
             >snippets</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="udev-udev-snippets">
<h1><a class="reference internal" href="#udev" title="udev"><tt class="xref snip snip-dir docutils literal"><span class="pre">udev/</span></tt></a> – <a class="reference external" href="http://www.kernel.org/pub/linux/utils/kernel/hotplug/udev.html">UDev</a> snippets<a class="headerlink" href="#udev-udev-snippets" title="Permalink to this headline">¶</a></h1>
<span class="target" id="udev/"></span><p>The snippets in this directory demonstrate the usage of the Linux device
management libary <a class="reference external" href="http://www.kernel.org/pub/linux/utils/kernel/hotplug/udev.html">udev</a>.  They are implemented in Python as well as C++, and
thus also serve as comparison between <a class="reference external" href="http://www.python.org">Python</a> and C++.</p>
<div class="section" id="available-snippets">
<h2>Available snippets<a class="headerlink" href="#available-snippets" title="Permalink to this headline">¶</a></h2>
<div class="section" id="device-enumeration">
<h3>Device enumeration<a class="headerlink" href="#device-enumeration" title="Permalink to this headline">¶</a></h3>
<p>Enumerate devices of specific type with libudev.</p>
<dl class="snippet">
<dt id="udev/udev_enumerate.py">
<em class="property">Snippet </em><a class="reference external" href="https://github.com/lunaryorn/snippets/blob/master/udev/udev_enumerate.py"><tt class="descclassname">udev/</tt><tt class="descname">udev_enumerate.py</tt></a><a class="headerlink" href="#udev/udev_enumerate.py" title="Permalink to this definition">¶</a></dt>
<dd><p>Python with <a class="reference external" href="http://packages.python.org/pyudev">pyudev</a></p>
</dd></dl>

<dl class="snippet">
<dt id="udev/udev_enumerate.cpp">
<em class="property">Snippet </em><a class="reference external" href="https://github.com/lunaryorn/snippets/blob/master/udev/udev_enumerate.cpp"><tt class="descclassname">udev/</tt><tt class="descname">udev_enumerate.cpp</tt></a><a class="headerlink" href="#udev/udev_enumerate.cpp" title="Permalink to this definition">¶</a></dt>
<dd><p>C++ with <a class="reference external" href="http://www.kernel.org/pub/linux/utils/kernel/hotplug/udev.html">libudev</a>.  This snippet uses safe udev pointers from <a class="reference internal" href="#udev/udev_auto_ptr.hpp" title="udev/udev_auto_ptr.hpp"><tt class="xref snip snip-snippet docutils literal"><span class="pre">udev_auto_ptr.hpp</span></tt></a>.</p>
</dd></dl>

<p>These two snippets illustrate the simplicity and readability of Python in
contrast to the almost insane complexitly of C++, even for such simple tasks.</p>
</div>
<div class="section" id="monitor-devices-with-udev-and-qt4">
<h3>Monitor devices with udev and Qt4<a class="headerlink" href="#monitor-devices-with-udev-and-qt4" title="Permalink to this headline">¶</a></h3>
<p>Integrate a udev monitor into a Qt event loop to constantly monitor device
additions and removals.</p>
<dl class="snippet">
<dt id="udev/udev_monitor.py">
<em class="property">Snippet </em><a class="reference external" href="https://github.com/lunaryorn/snippets/blob/master/udev/udev_monitor.py"><tt class="descclassname">udev/</tt><tt class="descname">udev_monitor.py</tt></a><a class="headerlink" href="#udev/udev_monitor.py" title="Permalink to this definition">¶</a></dt>
<dd><p>Python with <a class="reference external" href="http://packages.python.org/pyudev">pyudev</a> and <a class="reference external" href="http://www.pyside.org">PySide</a>, using <a class="reference external" href="http://pyudev.readthedocs.org/en/latest/api/pyudev.html#pyudev.Monitor" title="(in pyudev v0.16)"><tt class="xref py py-class docutils literal"><span class="pre">pyudev.Monitor</span></tt></a> and
<a class="reference external" href="http://pyudev.readthedocs.org/en/latest/api/pyside.html#pyudev.pyside.QUDevMonitorObserver" title="(in pyudev v0.16)"><tt class="xref py py-class docutils literal"><span class="pre">pyudev.pyside.QUDevMonitorObserver</span></tt></a></p>
</dd></dl>

<dl class="snippet">
<dt id="udev/udev_monitor.h">
<em class="property">Snippet </em><a class="reference external" href="https://github.com/lunaryorn/snippets/blob/master/udev/udev_monitor.h"><tt class="descclassname">udev/</tt><tt class="descname">udev_monitor.h</tt></a><a class="headerlink" href="#udev/udev_monitor.h" title="Permalink to this definition">¶</a></dt>
<dt id="udev/udev_monitor.cpp">
<em class="property">Snippet </em><a class="reference external" href="https://github.com/lunaryorn/snippets/blob/master/udev/udev_monitor.cpp"><tt class="descclassname">udev/</tt><tt class="descname">udev_monitor.cpp</tt></a><a class="headerlink" href="#udev/udev_monitor.cpp" title="Permalink to this definition">¶</a></dt>
<dd><p>C++ with <a class="reference external" href="http://qt.nokia.com/">Qt4</a> and <a class="reference external" href="http://www.kernel.org/pub/linux/utils/kernel/hotplug/udev.html">libudev</a>.  This snippet uses safe udev pointers from
<a class="reference internal" href="#udev/udev_auto_ptr.hpp" title="udev/udev_auto_ptr.hpp"><tt class="xref snip snip-snippet docutils literal"><span class="pre">udev_auto_ptr.hpp</span></tt></a> and the observer class from
<a class="reference internal" href="#udev/qudevobserver.h" title="udev/qudevobserver.h"><tt class="xref snip snip-snippet docutils literal"><span class="pre">qudevobserver.h</span></tt></a>.</p>
</dd></dl>

<p>In these snippets the difference between the simplicity of Python and the
complexity of C++ is even more extreme than in the aforementioned enumeration
snippets.</p>
</div>
<div class="section" id="c-helper-files">
<h3>C++ helper files<a class="headerlink" href="#c-helper-files" title="Permalink to this headline">¶</a></h3>
<p>These snippets support the implementation of the aforementioned C++ snippets.</p>
<dl class="snippet">
<dt id="udev/udev_auto_ptr.hpp">
<em class="property">Snippet </em><a class="reference external" href="https://github.com/lunaryorn/snippets/blob/master/udev/udev_auto_ptr.hpp"><tt class="descclassname">udev/</tt><tt class="descname">udev_auto_ptr.hpp</tt></a><a class="headerlink" href="#udev/udev_auto_ptr.hpp" title="Permalink to this definition">¶</a></dt>
<dd><p>A standard C++ managed pointer atop of the <a class="reference external" href="http://www.kernel.org/pub/linux/utils/kernel/hotplug/udev.html">libudev</a> reference counting.
This class allows to manage <a class="reference external" href="http://www.kernel.org/pub/linux/utils/kernel/hotplug/udev.html">libudev</a> resources in an exception-safe way.</p>
</dd></dl>

<dl class="snippet">
<dt id="udev/qudevobserver.h">
<em class="property">Snippet </em><a class="reference external" href="https://github.com/lunaryorn/snippets/blob/master/udev/qudevobserver.h"><tt class="descclassname">udev/</tt><tt class="descname">qudevobserver.h</tt></a><a class="headerlink" href="#udev/qudevobserver.h" title="Permalink to this definition">¶</a></dt>
<dt id="udev/qudevobserver.cpp">
<em class="property">Snippet </em><a class="reference external" href="https://github.com/lunaryorn/snippets/blob/master/udev/qudevobserver.cpp"><tt class="descclassname">udev/</tt><tt class="descname">qudevobserver.cpp</tt></a><a class="headerlink" href="#udev/qudevobserver.cpp" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://qt.nokia.com/">Qt4</a> class to observe a <tt class="docutils literal"><span class="pre">udev_monitor</span></tt> object from <a class="reference external" href="http://www.kernel.org/pub/linux/utils/kernel/hotplug/udev.html">libudev</a> and turn
device events into Qt signals.</p>
</dd></dl>

<dl class="snippet">
<dt id="udev/CMakeLists.txt">
<em class="property">Snippet </em><a class="reference external" href="https://github.com/lunaryorn/snippets/blob/master/udev/CMakeLists.txt"><tt class="descclassname">udev/</tt><tt class="descname">CMakeLists.txt</tt></a><a class="headerlink" href="#udev/CMakeLists.txt" title="Permalink to this definition">¶</a></dt>
<dd><p>Build the C++ snippets.</p>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="qt4/index.html"><tt class="docutils literal"><span class="pre">qt4/</span></tt> – Qt4 snippets</a></li>
<li class="toctree-l1"><a class="reference internal" href="python-misc.html"><tt class="docutils literal"><span class="pre">python-misc/</span></tt> – Miscellaneous Python snippets</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href=""><tt class="docutils literal"><span class="pre">udev/</span></tt> – UDev snippets</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Miscellaneous snippets</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="python-misc.html" title="python-misc/ – Miscellaneous Python snippets"
             >previous</a> |
          <a href="misc.html" title="Miscellaneous snippets"
             >next</a> |
          <a href="snip-index.html" title="Snippets index"
             >snippets</a> |
          <a href="genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="_sources/udev.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2011, Sebastian Wiesner.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>